function csvToArray(e,t){$.get(e,function(e,n){var a=[];if("success"==n){e=e.replace(/\r/gm,"");var d=e.split("\n"),c=0;for(c in d)if(0!==d[c].length){var r=d[c].split(",");a.push(r)}}t(a)})}!function(){"use strict";function e(){$(".fixInfo").animate({height:o,top:s+i+70-o+"px"},3e3,"easeInQuart")}function t(){l.style.top=s+i+70-o+"px"}function n(e,t,n,a){if(e){var d=document.createElement("section");d.classList.add(t);var c=document.createElement("h1"),r=document.createElement("span");r.innerHTML=n,c.classList.add("sectionTitle");var o=document.createElement("div");o.innerHTML=e,a.appendChild(d),d.appendChild(c),c.appendChild(r),d.appendChild(o)}}function a(e,t){if(e){var n=document.createElement("div");n.innerHTML=e,t.appendChild(n)}}function d(e,t){var n="#tab"+t,a="tab"+t,d="event-table"+t,c=document.createElement("a");c.setAttribute("data-toggle","tab"),c.setAttribute("href",n);var r=document.createTextNode(e[0][0]),o=document.createElement("li");1==t?(o.classList.add("active"),o.classList.add("tab1")):2==t&&o.classList.add("tab2"),c.appendChild(r),o.appendChild(c),v.appendChild(o);var l=document.createElement("div");l.id=a,l.classList.add("tab-pane"),l.classList.add("fade"),1==t&&(l.classList.add("in"),l.classList.add("active")),h.appendChild(l);var s=document.createElement("table");s.id=d,s.classList.add("table-large"),l.appendChild(s);var i=document.createElement("tr"),m=document.createElement("th");m.innerHTML="時間",m.classList.add("st-head-row"),s.appendChild(i),i.appendChild(m),function(){for(var t=1;t<e[0].length;t++){var n=document.createElement("th");n.innerHTML=e[0][t],i.appendChild(n)}}();for(var u=1;u<e.length;u++){var p,f;e[u][0]&&(f=document.createElement("tr"),s.appendChild(f));for(var L=0;L<e[u].length;L++)if(e[u][0]){var C="event"+t+u+L;p=u;var E=document.createElement("td");e[u][L]==e[u][0]?E.classList.add("eventTime"):E.classList.add(C),E.innerHTML=e[u][L],f.appendChild(E)}else if(!e[u][0]&&e[u][L]&&e[u][L].indexOf("http")){var T,y=document.createElement("div");if(y.innerHTML=e[u][L],u-p==1)T=u-1;else{var g=u-p;T=u-g}var b=".event"+t+T+L,H=document.querySelector(b);H.appendChild(y)}else if(!e[u][0]&&e[u][L].match(/http/)){var _,w=document.createElement("a");if(w.href=e[u][L],w.setAttribute("target","_blank"),u-p==2)_=u-2;else{var M=u-p;_=u-M}var S=".event"+t+_+L,q=document.querySelector(S),A=q.lastChild;w.appendChild(A),q.appendChild(w)}}}function c(e){var t="#event-table"+e,n=document.querySelector(t),a="#tab"+e,d=document.querySelector(a),c=document.createElement("table");c.classList.add("table-small"),d.appendChild(c);for(var r=n.rows.length,o=n.rows[0].cells.length,l=1;l<r;l++)for(var s=0;s<o;s++)if(n.rows[l].cells[s].innerHTML){var i=document.createElement("tr");if(c.appendChild(i),n.rows[l].cells[s]==n.rows[l].cells[0]){var m=document.createElement("th");m.innerHTML=n.rows[l].cells[0].innerHTML,m.setAttribute("colspan","2"),m.classList.add("eventTime"),i.appendChild(m)}else{var u=document.createElement("th");u.innerHTML=n.rows[0].cells[s].innerHTML,i.appendChild(u);var p=document.createElement("td");p.innerHTML=n.rows[l].cells[s].innerHTML,n.rows[l].cells[s]==n.rows[l].cells[0]&&p.classList.add("eventTime"),i.appendChild(p)}}}smoothScroll.init({speed:800,updateURL:!1,easing:"easeOutQuad"}),$.ajax({url:"common/data/info.txt",timeout:1e3,success:function(t){0===t.length?$(".fixInfo").css({display:"none"}):($(".fixInfo").append(t),e())},error:function(){alert("通信に失敗しました")}}),$(window).on("load resize orientationchange",function(){e()}),$(window).on("scroll",function(){t()});var r=300,o=140,l=document.querySelector(".fixInfo"),s=window.innerHeight||document.documentElement.clientHeight,i=document.documentElement.scrollTop||document.body.scrollTop;l.style.height=r+"px",l.style.top=s-r+"px",document.querySelector("body").style.paddingBottom=o+"px";var m=300;window.addEventListener("scroll",function(e){$(window).scrollTop()>m?$("header").addClass("smaller"):$("header").hasClass("smaller")&&$("header").removeClass("smaller")}),csvToArray("common/data/date.csv",function(e){var t=e.length,n=1,a=document.querySelector(".home_date"),d=document.createElement("div");for(d.classList.add("home_eventInfo"),a.appendChild(d),n;n<t;n++){var c=document.createElement("ul");d.appendChild(c);var r=0,o=e[n].length;for(r;r<o;r++){var l=document.createElement("li");l.innerHTML=e[n][r],0===r?l.classList.add("home_eventDay"):l.classList.add("home_eventTime"),c.appendChild(l)}}}),csvToArray("common/data/info.csv",function(e){var t=e[1][0];switch(t){case"赤":document.querySelector("body").classList.add("is_red");break;case"ピンク":document.querySelector("body").classList.add("is_pink");break;case"黒":document.querySelector("body").classList.add("is_black");break;case"黄色":document.querySelector("body").classList.add("is_yellow")}var n=document.querySelector(".header_siteTitle");n.innerHTML=e[1][1];var a=document.createElement("meta");a.setAttribute("title",n),document.getElementsByTagName("head")[0].appendChild(a);var d=e[1][2],c=document.createElement("meta");if(c.setAttribute("description",d),document.getElementsByTagName("head")[0].appendChild(c),e[1][2]){var r=document.createElement("img"),o=e[1][3];r.src=o,r.className="mainImg_img",document.querySelector(".mainImg").appendChild(r)}if(e[1][4]){var l=document.createElement("div");l.innerHTML=e[1][4],l.classList.add("home_eventTime_caution"),document.querySelector(".home_date").appendChild(l)}}),csvToArray("common/data/access.csv",function(e){var t=document.querySelector(".home_place"),n=e.length,a=1,d=1,c=document.createElement("div");for(c.classList.add("home_access_palce"),t.appendChild(c),a;a<n;a++){var r=document.createElement("div");r.innerHTML=e[a][0],c.appendChild(r)}if(e[d][1]){var o=document.querySelector(".home"),l=document.createElement("section");l.classList.add(".home_access"),o.appendChild(l);var s=document.createElement("h1");s.classList.add("sectionTitle"),l.appendChild(s);var i=document.createElement("span");i.innerHTML="アクセス",s.appendChild(i);var m=document.createElement("ul");for(l.appendChild(m),d;d<n;d++){var u=document.createElement("li");u.innerHTML=e[d][1],m.appendChild(u)}}}),csvToArray("common/data/caution.csv",function(e){var t=e.length;if(t-1>0){var n=document.createElement("section");document.querySelector(".home").appendChild(n);var a=document.createElement("h1"),d=document.createElement("span");d.innerHTML="ご注意",a.appendChild(d),a.classList.add("home-caution"),a.classList.add("sectionTitle"),n.appendChild(a);var c=document.createElement("ul");n.appendChild(c);var r=1;for(r;r<t;r++){var o=document.createElement("li");o.innerHTML=e[r],c.appendChild(o)}}}),csvToArray("common/data/event-info.csv",function(e){var t=e.length,n=document.querySelector(".event_info");if(e[1][0])for(var a=1;a<t;a++)for(var d=0;d<e[a].length;d++){var c=document.createElement("div");d>0&&c.classList.add("event_day"),c.innerHTML=e[a][d],n.appendChild(c)}});var u=document.querySelector(".event"),p=document.createElement("section");p.classList.add("event_schedule"),u.appendChild(p);var v=document.createElement("ul");v.classList.add("nav"),v.classList.add("nav-tabs"),p.appendChild(v);var h=document.createElement("div");h.classList.add("tab-content"),p.appendChild(h),csvToArray("common/data/event-1.csv",function(e){var t=1;e&&d(e,t),c(t)}),csvToArray("common/data/event-2.csv",function(e){var t=2;e&&d(e,t),c(t)}),csvToArray("common/data/sponsors.csv",function(e){var t=(e.length,document.querySelector(".sponsors"));n(e[1][0],"sponsors_organizer","主催",t);var d=t.children[0];a(e[1][1],d),n(e[1][2],"sponsors_support","後援",t),n(e[1][3],"sponsors_cooperation","協力",t),n(e[1][4],"sponsors_sponsorship","協賛",t);var c=document.querySelector("footer");a(e[1][0],c)})}();
