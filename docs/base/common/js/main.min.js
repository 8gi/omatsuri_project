function csvToArray(e,t){$.get(e,function(e,a){var n=[];if("success"==a){e=e.replace(/\r/gm,"");var r=e.split("\n"),d=0;for(d in r)if(0!==r[d].length){var c=r[d].split(",");n.push(c)}}t(n)})}!function(){"use strict";function d(){$(".fixInfo").animate({height:t,top:n+r+70-t+"px"},3e3,"easeInQuart")}function c(){a.style.top=n+r+70-t+"px"}function v(e,t,a,n){if(e){var r=document.createElement("section");r.classList.add(t);var d=document.createElement("h1"),c=document.createElement("span");c.innerHTML=a,d.classList.add("sectionTitle");var i=document.createElement("div");i.innerHTML=e,n.appendChild(r),r.appendChild(d),d.appendChild(c),r.appendChild(i)}}function u(e,t){if(e){var a=document.createElement("div");a.innerHTML=e,t.appendChild(a)}}function p(e,t){var a="#tab"+t,n="tab"+t,r="event-table"+t,d=document.createElement("a");d.setAttribute("data-toggle","tab"),d.setAttribute("href",a);var c=document.createTextNode(e[0][0]),i=document.createElement("li");1==t?(i.classList.add("active"),i.classList.add("tab1")):2==t&&i.classList.add("tab2"),d.appendChild(c),i.appendChild(d),o.appendChild(i);var l=document.createElement("div");l.id=n,l.classList.add("tab-pane"),l.classList.add("fade"),1==t&&(l.classList.add("in"),l.classList.add("active")),m.appendChild(l);var s=document.createElement("table");s.id=r,s.classList.add("table-large"),l.appendChild(s);var v=document.createElement("tr"),u=document.createElement("th");u.innerHTML="時間",u.classList.add("st-head-row"),s.appendChild(v),v.appendChild(u),function(){for(var t=1;t<e[0].length;t++){var a=document.createElement("th");a.innerHTML=e[0][t],v.appendChild(a)}}();for(var p=1;p<e.length;p++){var h,f;e[p][0]&&(f=document.createElement("tr"),s.appendChild(f));for(var L=0;L<e[p].length;L++)if(e[p][0]){var y="event"+t+p+L;h=p;var E=document.createElement("td");E.classList.add(e[p][L]==e[p][0]?"eventTime":y),E.innerHTML=e[p][L],f.appendChild(E)}else if(!e[p][0]&&e[p][L]&&e[p][L].indexOf("http")){var T,g=document.createElement("div");if(g.innerHTML=e[p][L],p-h==1)T=p-1;else{var b=p-h;T=p-b}var w=".event"+t+T+L,_=document.querySelector(w);_.appendChild(g)}else if(!e[p][0]&&e[p][L].match(/http/)){var H,S=document.createElement("a");if(S.href=e[p][L],S.setAttribute("target","_blank"),p-h==2)H=p-2;else{var q=p-h;H=p-q}var M=".event"+t+H+L,A=document.querySelector(M),x=A.lastChild;S.appendChild(x),A.appendChild(S)}}}function h(e){var t="#event-table"+e,a=document.querySelector(t),n="#tab"+e,r=document.querySelector(n),d=document.createElement("table");d.classList.add("table-small"),r.appendChild(d);for(var c=a.rows.length,i=a.rows[0].cells.length,l=1;c>l;l++)for(var s=0;i>s;s++)if(a.rows[l].cells[s].innerHTML){var o=document.createElement("tr");if(d.appendChild(o),a.rows[l].cells[s]==a.rows[l].cells[0]){var m=document.createElement("th");m.innerHTML=a.rows[l].cells[0].innerHTML,m.setAttribute("colspan","2"),m.classList.add("eventTime"),o.appendChild(m)}else{var v=document.createElement("th");v.innerHTML=a.rows[0].cells[s].innerHTML,o.appendChild(v);var u=document.createElement("td");u.innerHTML=a.rows[l].cells[s].innerHTML,a.rows[l].cells[s]==a.rows[l].cells[0]&&u.classList.add("eventTime"),o.appendChild(u)}}}smoothScroll.init({speed:800,updateURL:!1,easing:"easeOutQuad"}),$.ajax({url:"data/info.txt",timeout:1e3,success:function(e){0===e.length?$(".fixInfo").css({display:"none"}):($(".fixInfo").append(e),d())},error:function(){alert("「お知らせ」の取得に失敗しました")}}),$(window).on("load resize orientationchange",function(){d()}),$(window).on("scroll",function(){c()});var e=300,t=140,a=document.querySelector(".fixInfo"),n=window.innerHeight||document.documentElement.clientHeight,r=document.documentElement.scrollTop||document.body.scrollTop;a.style.height=e+"px",a.style.top=n-e+"px",document.querySelector("body").style.paddingBottom=t-70+"px";var i=300;window.addEventListener("scroll",function(){$(window).scrollTop()>i?$("header").addClass("smaller"):$("header").hasClass("smaller")&&$("header").removeClass("smaller")}),csvToArray("data/date.csv",function(e){var t=e.length,a=1,n=document.querySelector(".home_date"),r=document.createElement("div");for(r.classList.add("home_eventInfo"),n.appendChild(r),a;t>a;a++){var d=document.createElement("ul");r.appendChild(d);var c=0,i=e[a].length;for(c;i>c;c++){var l=document.createElement("li");l.innerHTML=e[a][c],l.classList.add(0===c?"home_eventDay":"home_eventTime"),d.appendChild(l)}}}),csvToArray("data/info.csv",function(e){var t=e[1][0];switch(t){case"赤":document.querySelector("body").classList.add("is_red");break;case"ピンク":document.querySelector("body").classList.add("is_pinkGreen");break;case"ピンク2":document.querySelector("body").classList.add("is_pinkPink");break;case"黒":document.querySelector("body").classList.add("is_black");break;case"黄色":document.querySelector("body").classList.add("is_yellow")}var a=document.querySelector(".header_siteTitle");a.innerHTML=e[1][1];var n=document.createElement("meta");n.setAttribute("title",a),document.getElementsByTagName("head")[0].appendChild(n);var r=e[1][2],d=document.createElement("meta");if(d.setAttribute("description",r),document.getElementsByTagName("head")[0].appendChild(d),e[1][2]){var c=document.createElement("img");c.src=e[1][3],c.className="mainImg_img",document.querySelector(".mainImg").appendChild(c);var i=new Image;i.src=e[1][3],i.onload=function(){var e=i.width,t=i.height,a=window.innerWidth||document.documentElement.clientWidth;if(t>e&&a>768){var n=document.querySelector(".mainImg_img");n.style.width="60%",n.style.marginLeft="20%",console.log(a)}}}if(e[1][4]){var l=document.createElement("div");l.innerHTML=e[1][4],l.classList.add("home_eventTime_caution"),document.querySelector(".home_date").appendChild(l)}}),csvToArray("data/access.csv",function(e){var t=document.querySelector(".home_place"),a=e.length,n=1,r=1,d=document.createElement("div");for(d.classList.add("home_access_palce"),t.appendChild(d),n;a>n;n++){var c=document.createElement("div");c.innerHTML=e[n][0],d.appendChild(c)}if(e[r][1]){var i=document.querySelector(".home"),l=document.createElement("section");l.classList.add(".home_access"),i.appendChild(l);var s=document.createElement("h1");s.classList.add("sectionTitle"),l.appendChild(s);var o=document.createElement("span");o.innerHTML="アクセス",s.appendChild(o);var m=document.createElement("ul");for(l.appendChild(m),r;a>r;r++){var v=document.createElement("li");v.innerHTML=e[r][1],m.appendChild(v)}}}),csvToArray("data/caution.csv",function(e){var t=e.length;if(t-1>0){var a=document.createElement("section");document.querySelector(".home").appendChild(a);var n=document.createElement("h1"),r=document.createElement("span");r.innerHTML="ご注意",n.appendChild(r),n.classList.add("home-caution"),n.classList.add("sectionTitle"),a.appendChild(n);var d=document.createElement("ul");a.appendChild(d);var c=1;for(c;t>c;c++){var i=document.createElement("li");i.innerHTML=e[c],d.appendChild(i)}}}),csvToArray("data/event-info.csv",function(e){var t=e.length,a=document.querySelector(".event_info");if(e[1][0])for(var n=1;t>n;n++)for(var r=0;r<e[n].length;r++){var d=document.createElement("div");r>0&&d.classList.add("event_day"),d.innerHTML=e[n][r],a.appendChild(d)}});var l=document.querySelector(".event"),s=document.createElement("section");s.classList.add("event_schedule"),l.appendChild(s);var o=document.createElement("ul");o.classList.add("nav"),o.classList.add("nav-tabs"),s.appendChild(o);var m=document.createElement("div");m.classList.add("tab-content"),s.appendChild(m),csvToArray("data/event-1.csv",function(e){var t=1;e[0][0]&&(p(e,t),h(t))}),csvToArray("data/event-2.csv",function(e){var t=2;e[0][0]&&(p(e,t),h(t))}),csvToArray("data/sponsors.csv",function(e){var n=(e.length,document.querySelector(".sponsors"));v(e[1][0],"sponsors_organizer","主催",n);var r=n.children[0];u(e[1][1],r),v(e[1][2],"sponsors_support","後援",n),v(e[1][3],"sponsors_cooperation","協力",n),v(e[1][4],"sponsors_sponsorship","協賛",n);var d=document.querySelector("footer");u(e[1][0],d)})}();
